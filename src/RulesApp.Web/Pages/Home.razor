@page "/"
@inject LanguageState LanguageState
@implements IDisposable

<PageTitle>@L("Accueil", "Home")</PageTitle>

<h1>@L("Bonjour!", "Hello!")</h1>

<p>@L("Bienvenue dans votre nouvelle application.", "Welcome to your new app.")</p>

@code {
	protected override void OnInitialized()
	{
		LanguageState.OnChange += HandleLanguageChanged;
	}

	private void HandleLanguageChanged()
	{
		StateHasChanged();
	}

	private bool IsEnglish => LanguageState.Current == "EN";
	private string L(string fr, string en) => IsEnglish ? en : fr;

	public void Dispose()
	{
		LanguageState.OnChange -= HandleLanguageChanged;
	}
}
